# cn2 (CIRCON2)

## Алгоритм циркулярки

Алгоритм cn2 (или "алгоритм циркулярной пилы") позволяет распилить данные на нужное количество крипто-контейнеров,
указав при этом, какое количество этих контейнеров необходимо для восстановления исходных данных.

Если для раскодировки данных будет предоставлено минимально необходимое количество контейнеров, данные будут извлечены.

Если для раскодировки данных будет предоставлено недостаточно контейнеров (меньше минимально необходимого количества),
то данные не будут извлечены. Причём, если количество контейнеров недостаточно, то данные нельзя извлечь даже частично.

# Назначение

## Во-первых, секретность на основе незнания мест
Алгоритм циркулярки позволяет разместить секретные данные в нескольких общедоступных местах,
в расчёте что эти места не известны тем, от кого мы хотим сохранить наши данные в секрете.

При этом секретность данных основывается на том, что мы сами знаем те места, где лежат наши крипто-контейнеры,
и поэтому мы можем восстановить наши секретные данные. А противник не знает эти места, и поэтому не может
получить доступ к нашим данным. Для доступа необходимо знать не одно, а несколько мест.

Если кто-то случайно получит доступ к нашему крипто-контейнеру, для него эти данные будут абсолютно бесполезны,
поскольку одного контейнера для восстановления данных не достаточно. Контейнер зашифрован, из него нельзя извлечь
никакую часть исходных данных.

Чтобы восстановить секретные данные, надо взять контейнеры из нескольких мест. Минимальное количество этих мест
мы задаём заранее, когда "распиливаем" данные на нужное нам количество мест хранения.

## Во-вторых, защита от повреждений
Если количество контейнеров, необходимых для восстановления данных, меньше, чем общее количество контейнеров
(и мест хранения), то повреждение "лишних" мест хранения не приведёт к потере данных.

Например, если мы разделим данные на 5 контейнеров, указав что для восстановления данных достаточно 3 контейнеров,
то мы можем потерять любые 1 или 2 контейнера, и оставшихся трёх будет достаточно для извлечения данных.

## Использование для секретной передачи данных

При помощи "алгоритма циркулярки" можно решить такую задачу: передать секретные данные получателю, с которым есть
несколько способов связи (например, email, Skype, Telegram, Viber), но нет ни одного надёжного способа, то есть такого
который гарантированно не прослушивается противником.

### вариант шифрования паролем
Без "алгоритма циркулярки" эта задача решается так: зашифровать данные, и послать их в зашифрованном виде каким-то одним
из способов, а пароль передать отдельно, другим способом. В этом случае мы полагаемся на то, что противник не прослушивает
оба эти канала связи, а получатель - наоборот, имеет доступ к обоим этим каналам связи.

### вариант с алгоритмом циркулярки
Если же использовать "алгоритм циркулярки", то можно разделить наши секретные данные, например, на 4 контейнера, указав
что 3 из них необходимы для расшифровки. Отправив эти 4 контейнера по четырём разным каналам связи и сопроводив эти
послания ссылкой на способ расшифровки, мы значителььно повысим вероятность того, что получатель эти данные получит,
а противник - нет.

Даже если противник перехватывает любые 1 или 2 канала связи, «улов» будет ему бесполезен, поскольку минимально надо
перехватить 3 контейнера. Вероятность же того, что получатель контролирует хотя бы 3 из 4 своих каналов связи достаточно велика.

Обратим внимание, что в данном примере информация передаётся за 1 шаг и не требует ни обратной связи, ни предварительного
согласования способа передачи данных (достаточно сопроводить передаваемые контейнеры описанием способа расшифровки).

### совмещение этих двух вариантов
Алгоритм cn2 дополнительно поддерживает шифрование паролем. Поэтому можно совместить оба варианта в один, добавив пароль,
необходимый для расшифровки контейнеров. Сообщая этот пароль после того, как адресат подтвердит получение необходимого
количества контейнеров, мы максимально снижаем вероятность перехвата данных посторонними в процессе передачи.

## Корпоративный вариант использования
Предположим, что корпорация хранит важную информацию на серверах, и надо обеспечить, чтобы взлом или кража или поломка
любого сервера не привели бы ни к утечке данных, ни к потере.

Алгоритм циркулярки прекрасно подходит для решения данной задачи, позволяя одновременно повысить и безопасность
и устойчивость хранения данных.

Решение в данном случае очень простое:
1) данные мы будем делить на то количество серверов, которое имеется в наличии и предназначено для хранения наших данных.
Допустим, мы имеем 5 серверов.
2) количество контейнеров, минимальное необходимое для восстановления данных, мы укажем меньшее, например, 2.
3) распиливая данные в соответствии с этими правилами, мы получаем следующее:
 - изнутри корпорации эти сервера доступны, и достаточно состыковать контейнеры с любых двух серверов, чтобы получать
 временную копию важных данных (после использования временные копии следует удалять).
 - информация доступна внутри компании (точнее, доступна для тех, у кого есть доступ к серверам компании),
 и выход из строя любого сервера или даже двух серверов не повлекут потерю каких-либо данных.
 Любых двух оставшихся серверов будет достаточно для восстановления данных.
 - если посторонний получил доступ к одному из серверов, или даже физически его украл, то он не получит никакие данные компании, поскольку для расшифровки данных одного сервера не достаточно.

Для удобства, сотрудники компании могут работать с этими данными через «точки сборки», которые представляют собой промежуточный
драйвер доступа, который при чтении данных берёт их с нескольких доступных серверов и расшифровывает, а при записи – наоборот,
распиливает записываемую информацию на контейнеры и помещает их на сервера.

Минус такого подхода в том, что его довольно трудно реализовать "в домашних условиях" - требуется несколько удалённых серверов
для хранения крипто-контейнеров, плюс требуется обеспечить соответствующий уровень безопасности на локальном рабочем месте,
где будет работать "точка сборки". Однако, при использовании в рамках организации эти проблемы решаются достаточно просто,
тогда как общий уровень безопасности данных повышается значительно.

# DISCLAIMER
Этот алгоритм я придумал довольно давно, увлёкшись самой идеей, потому что никто такого не сделал, а это интересно.
Разбирая старые данные нашел этот код, и решил выложить в публичный доступ, вдруг кому-нибудь пригодится.
